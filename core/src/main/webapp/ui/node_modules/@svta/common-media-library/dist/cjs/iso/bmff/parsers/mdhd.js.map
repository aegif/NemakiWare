{"version":3,"file":"mdhd.js","sourceRoot":"","sources":["../../../../../src/iso/bmff/parsers/mdhd.ts"],"names":[],"mappings":";;AAyCA,oBAwBC;AAnCD;;;;;;;;;;GAUG;AACH,SAAgB,IAAI,CAAC,IAAa;IACjC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAE9C,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzD,MAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7D,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACnC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC9B,MAAM,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,EAChE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,EAC3B,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;IAEvB,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEpC,OAAO;QACN,OAAO;QACP,KAAK;QACL,YAAY;QACZ,gBAAgB;QAChB,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,UAAU;KACV,CAAC;AACH,CAAC","sourcesContent":["import type { FullBox } from '../FullBox.js';\nimport type { IsoView } from '../IsoView.js';\n\n/**\n * ISO/IEC 14496-12:2012 - 8.4.2 Media Header Box\n *\n * @group ISOBMFF\n *\n * @beta\n */\nexport type MediaHeaderBox = FullBox & {\n\t/** A 32-bit integer that specifies the creation time of the media in this track. */\n\tcreationTime: number;\n\n\t/** A 32-bit integer that specifies the most recent time the media in this track was modified. */\n\tmodificationTime: number;\n\n\t/** A time value that indicates the time-scale for this media; this is the number of time units that pass in one second. */\n\ttimescale: number;\n\n\t/** A time value that indicates the duration of this media. */\n\tduration: number;\n\n\t/** A 16-bit integer that specifies the language code for this media. */\n\tlanguage: string;\n\n\t/** A 16-bit value that is reserved for use in other specifications. */\n\tpreDefined: number;\n};\n\n/**\n * Parse a MediaHeaderBox from an IsoView\n *\n * @param view - The IsoView to read data from\n *\n * @returns A parsed MediaHeaderBox\n *\n * @group ISOBMFF\n *\n * @beta\n */\nexport function mdhd(view: IsoView): MediaHeaderBox {\n\tconst { version, flags } = view.readFullBox();\n\n\tconst creationTime = view.readUint(version == 1 ? 8 : 4);\n\tconst modificationTime = view.readUint(version == 1 ? 8 : 4);\n\tconst timescale = view.readUint(4);\n\tconst duration = view.readUint(version == 1 ? 8 : 4);\n\tconst lang = view.readUint(2);\n\tconst language = String.fromCharCode(((lang >> 10) & 0x1F) + 0x60,\n\t\t((lang >> 5) & 0x1F) + 0x60,\n\t\t(lang & 0x1F) + 0x60);\n\n\tconst preDefined = view.readUint(2);\n\n\treturn {\n\t\tversion,\n\t\tflags,\n\t\tcreationTime,\n\t\tmodificationTime,\n\t\ttimescale,\n\t\tduration,\n\t\tlanguage,\n\t\tpreDefined,\n\t};\n}\n"]}