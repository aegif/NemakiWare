{"version":3,"file":"pssh.js","sourceRoot":"","sources":["../../../../../src/iso/bmff/parsers/pssh.ts"],"names":[],"mappings":";;AA4BA,oBAeC;AA3CD,+CAAyC;AAiBzC;;;;;;;;;;GAUG;AACH,SAAgB,IAAI,CAAC,IAAa;IACjC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;IACrC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAE9C,MAAM,QAAQ,GAAG,SAAS,CAAC,cAAI,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;IACxC,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC7B,MAAM,IAAI,GAAG,SAAS,CAAC,cAAI,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;IAE1C,OAAO;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,QAAQ;QACR,IAAI;KACJ,CAAC;AACH,CAAC;AAAA,CAAC","sourcesContent":["import { UINT } from '../fields/UINT.js';\nimport type { FullBox } from '../FullBox.js';\nimport type { IsoView } from '../IsoView.js';\n\n/**\n * ISO/IEC 23001-7:2011 - 8.1 Protection System Specific Header Box\n *\n * @group ISOBMFF\n *\n * @beta\n */\nexport type ProtectionSystemSpecificHeaderBox = FullBox & {\n\tsystemID: number[];\n\tdataSize: number;\n\tdata: number[];\n};\n\n/**\n * Parse a ProtectionSystemSpecificHeaderBox from an IsoView\n *\n * @param view - The IsoView to read data from\n *\n * @returns A parsed ProtectionSystemSpecificHeaderBox\n *\n * @group ISOBMFF\n *\n * @beta\n */\nexport function pssh(view: IsoView): ProtectionSystemSpecificHeaderBox {\n\tconst { readUint, readArray } = view;\n\tconst { version, flags } = view.readFullBox();\n\n\tconst systemID = readArray(UINT, 1, 16);\n\tconst dataSize = readUint(4);\n\tconst data = readArray(UINT, 1, dataSize);\n\n\treturn {\n\t\tversion,\n\t\tflags,\n\t\tsystemID,\n\t\tdataSize,\n\t\tdata,\n\t};\n};\n"]}