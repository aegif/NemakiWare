{"version":3,"file":"extractContentId.js","sourceRoot":"","sources":["../../../../src/drm/fairplay/extractContentId.ts"],"names":[],"mappings":";;AASA,4CAMC;AAfD;;;;;;;;GAQG;AACH,SAAgB,gBAAgB,CAAC,QAAqB;IACrD,MAAM,cAAc,GAAG,IAAI,WAAW,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAE1D,mCAAmC;IACnC,MAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;IAC3D,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACpC,CAAC","sourcesContent":["/**\n * Extracts the content ID from InitData using skd:// URI or query parameters.\n *\n * @param initData - The initialization data (PSSH box)\n * @returns The extracted content ID as a string or null if not found\n *\n * @group DRM\n * @beta\n */\nexport function extractContentId(initData: Uint16Array): string {\n\tconst initDataString = new TextDecoder().decode(initData);\n\n\t// Try extracting skd:// content ID\n\tconst skdMatch = initDataString.match(/skd:\\/\\/([^\"\\s]+)/);\n\treturn skdMatch ? skdMatch[1] : '';\n}\n"]}