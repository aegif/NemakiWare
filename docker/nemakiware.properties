###Database
db.couchdb.url=http://couchdb:5984
db.couchdb.max.connections=20
db.couchdb.connection.timeout=30000
db.couchdb.socket.timeout=60000
db.couchdb.auth.enabled=true
db.couchdb.auth.username=admin
db.couchdb.auth.password=password

###CMIS server default parameter
cmis.server.default.max.items.types=50
cmis.server.default.depth.types=-1
cmis.server.default.max.items.objects=200
cmis.server.default.depth.objects=10
# Default repository for service document requests (e.g., /atom without repository ID)
# If not specified, uses the first repository defined in repositories.yml
cmis.server.default.repository=bedroom

###Repository
repository.definition.default=repositories-default.yml
repository.definition=repositories.yml

###Search engine
solr.protocol=http
solr.host=solr
solr.port=8983
solr.context=solr
solr.indexing.force=true
solr.nemaki.userid=solr

###Permission
permission.definition=permission.yml
permission.mapping.definition=permission-mapping.yml

###Spring configuration
context.log=logContext.xml
context.businesslogic=businesslogicContext.xml
context.dao=daoContext.xml
context.dao.implementation=couchContext.xml

###NemakiWare extended capability
capability.extended.orderBy.default=cmis:creationDate DESC
capability.extended.preview=false
capability.extended.include.relationships=true
capability.extended.unique.name.check=true
capability.extended.auth.token=true
capability.extended.permission.toplevel=false
capability.extended.permission.inheritance.toplevel=true
capability.extended.user.item.folder=e02f784f8360a02cc14d1314c10038ff

###Rest API
rest.user.enabled=true
rest.group.enabled=true
rest.type.enabled=true
rest.archive.enabled=true
rest.authtoken.enabled=true

###Rendition
jodconverter.registry.dataformats=rendition-format.yml
# Enable/disable rendition feature. Default: true
rendition.enabled=true
# Default rendition kind. Default: preview (normalized to cmis:preview internally for CMIS compliance)
rendition.default.kind=preview
# Path to rendition mapping YAML file. Default: rendition-mapping.yml
rendition.mapping.definition=rendition-mapping.yml
# Enable lazy rendition creation on preview request. Default: false (recommended)
rendition.lazy.createOnPreview=false
# Converter type: 'jod' (JODConverter) or 'external' (future). Default: jod
rendition.converter.type=jod
# Path to external converter command (future use). Default: null
#rendition.external.command=
# URL of external converter service (future use). Default: null
#rendition.external.url=

###Logging
log.aspect.class=jp.aegif.nemaki.util.spring.aspect.log.JsonLogger
log.aspect.expression=execution(* jp.aegif.nemaki.cmis.service..*Impl.*(..)) and !execution(* jp.aegif.nemaki.cmis.service.impl.RepositoryServiceImpl.*(..))
log.config.json.file=log-json-config.json

###Cache
cache.config=ehcache.yml
cache.clustering.enabled=false
#cache.clustering.terracotta.url=terracotta://localhost:9410/nemakiware
#cache.clustering.offheap.mb=100

###Auth token
auth.token.expiration=86400000

###Thread
thread.max=200

###proxyHeadear
external.authenticaion.proxyHeader=X-NemakiWare-Remote-User
external.authenticaion.isAutoCreateUser=false

###SSO (Single Sign-On) UI Configuration
# Enable OIDC login button on login page
sso.oidc.enabled=true
# Enable SAML login button on login page
sso.saml.enabled=true

###OIDC
oidc.enabled=true
oidc.issuer=http://keycloak:8080/realms/nemakiware
oidc.clientId=nemakiware-oidc-client
oidc.principal.claim.name=preferred_username
oidc.isAutoCreateUser=true

###SAML
saml.enabled=true
saml.idp.metadata.url=http://keycloak:8080/realms/nemakiware/protocol/saml/descriptor
saml.sp.entity.id=nemakiware-saml-client
saml.principal.claim.name=ID
saml.isAutoCreateUser=true

###Cloud Authentication (Google / Microsoft direct OIDC)
cloud.auth.google.enabled=false
cloud.auth.google.clientId=
cloud.auth.google.clientSecret=
cloud.auth.microsoft.enabled=false
cloud.auth.microsoft.clientId=
cloud.auth.microsoft.tenantId=
cloud.auth.microsoft.clientSecret=

###Cloud Drive Integration
cloud.drive.google.enabled=false
cloud.drive.microsoft.enabled=false
cloud.drive.encryption.key=

###Cloud Directory Sync
cloud.directory.sync.enabled=false
cloud.directory.sync.providers=
cloud.directory.sync.cron=0 0 2 * * ?
cloud.directory.sync.google.serviceAccountKey=
cloud.directory.sync.google.domain=
cloud.directory.sync.microsoft.tenantId=
cloud.directory.sync.microsoft.clientId=
cloud.directory.sync.microsoft.clientSecret=
