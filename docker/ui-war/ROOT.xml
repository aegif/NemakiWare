<?xml version="1.0" encoding="UTF-8"?>
<Context path="" docBase="/usr/local/tomcat/webapps/ROOT.war">
    <!-- Disable session persistence across Tomcat restarts -->
    <Manager pathname="" />
    
    <!-- Configure thread cleanup on context destruction -->
    <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener" />
    <Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener" />
    
    <!-- Set this to true to force Tomcat to stop threads on context unload -->
    <JarScanner scanManifest="false" scanAllDirectories="false" scanClassPath="false">
        <JarScanFilter defaultPluggabilityScan="false" defaultTldScan="false" />
    </JarScanner>
    
    <!-- Add custom system properties -->
    <Environment name="org.apache.catalina.loader.WebappClassLoader.ENABLE_CLEAR_REFERENCES" value="true" type="java.lang.Boolean" />
    
    <!-- Set Play Framework context path -->
    <Parameter name="play.http.context" value="/ui/" override="false" />
    <Parameter name="application.context" value="/ui/" override="false" />
</Context>
