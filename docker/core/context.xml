<?xml version="1.0" encoding="UTF-8"?>
<Context path="/core" docBase="core.war">
    <!-- Disable session persistence across Tomcat restarts -->
    <Manager pathname="" />
    
    <!-- Configure thread cleanup on context destruction -->
    <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener" />
    
    <!-- Set this to true to force Tomcat to stop threads on context unload -->
    <JarScanner scanManifest="false" />
    
    <!-- Add custom system properties to disable Ektorp idle connection monitor -->
    <Environment name="org.ektorp.support.AutoUpdateViewOnChange" value="true" type="java.lang.Boolean" />
    <Environment name="org.ektorp.http.IdleConnectionMonitor.enabled" value="false" type="java.lang.Boolean" />
    
    <!-- Add system property to control thread cleanup -->
    <Environment name="org.apache.catalina.loader.WebappClassLoader.ENABLE_CLEAR_REFERENCES" value="true" type="java.lang.Boolean" />
</Context>
